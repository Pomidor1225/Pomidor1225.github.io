<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
html,body{margin:0;width:100%;height:100%}
body{overflow:hidden;background:#000}

/* –≠–ö–†–ê–ù–´ */
.screen{position:absolute;inset:0;display:none}
.screen.active{display:block}

/* –§–û–ù–´ - –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —ç–∫—Ä–∞–Ω –∞–∫—Ç–∏–≤–µ–Ω */
#home{background:#000}
#bracelet{background:#000}
#delivery{
  background:linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
  color:#fff;
  font-family:Arial,sans-serif;
  overflow-y:auto;
  padding:20px;
}

#delivery.active{
  display:flex;
  align-items:center;
  justify-content:center;
}

#delivery-text{
  background:rgba(0,0,0,0.7);
  padding:30px 25px;
  border-radius:15px;
  max-width:85%;
  text-align:left;
  line-height:1.6;
}

#delivery-text h3{
  font-size:22px;
  margin:0 0 20px 0;
  text-align:center;
  font-weight:bold;
}

#delivery-text p{
  font-size:16px;
  margin:15px 0;
}

#delivery-text strong{
  font-size:18px;
  display:block;
  margin-top:20px;
  margin-bottom:8px;
}

/* –ö–†–ê–°–ò–í–ê–Ø –ö–ù–û–ü–ö–ê –ù–ê–ó–ê–î */
.back-button{
  position:absolute;
  top:15px;
  left:15px;
  width:40px;
  height:40px;
  background:rgba(255,255,255,0.1);
  backdrop-filter:blur(10px);
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  z-index:100;
  transition:all 0.3s ease;
  border:1px solid rgba(255,255,255,0.2);
}

.back-button:active{
  background:rgba(255,255,255,0.2);
  transform:scale(0.95);
}

.back-button svg{
  width:20px;
  height:20px;
  stroke:#fff;
  stroke-width:2.5;
  fill:none;
}

.back-button.hidden{
  display:none;
}

/* –ü–†–û–ó–†–ê–ß–ù–´–ï –ó–û–ù–´ */
.zone{position:absolute;z-index:20;cursor:pointer}
.zone:active{opacity:0.7}

/* –ì–õ–ê–í–ù–´–ô */
#h-hearts{left:5%;top:52%;width:42%;height:10%}
#h-tennis{right:5%;top:52%;width:42%;height:10%}
#h-delivery{
  left:50%;transform:translateX(-50%);
  bottom:28%;
  width:65%;
  height:8%;
}

/* –ë–†–ê–°–õ–ï–¢ */
#b-buy{
  left:50%;transform:translateX(-50%);
  bottom:28%;
  width:70%;
  height:8%;
}
#b-delivery{
  left:50%;transform:translateX(-50%);
  bottom:17%;
  width:70%;
  height:8%;
}

/* –ö–ê–†–£–°–ï–õ–¨ */
#carousel{
  position:absolute;
  top:13%;
  left:15%;
  width:70%;
  height:25%;
  overflow:hidden;
  border-radius:10px;
  touch-action:pan-y pinch-zoom;
}

#carousel-track{
  display:flex;
  height:100%;
  transition:transform 0.3s ease;
}

#carousel-track img{
  width:100%;
  height:100%;
  object-fit:cover;
  object-position:center;
  transform:scale(0.85);
  flex-shrink:0;
}

.carousel-dots{
  position:absolute;
  top:39%;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:8px;
  z-index:30;
}

.dot{
  width:10px;
  height:10px;
  border-radius:50%;
  background:rgba(255,255,255,0.5);
  cursor:pointer;
  border:1px solid rgba(255,255,255,0.3);
}

.dot.active{
  background:rgba(255,255,255,1);
}

/* LOADER –¥–ª—è –ø–ª–∞–≤–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ */
.loading{
  opacity:0.5;
  transition:opacity 0.3s;
}

.loaded{
  opacity:1;
}
</style>
</head>
<body>

<!-- –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥ -->
<div class="back-button hidden" id="backBtn">
  <svg viewBox="0 0 24 24">
    <path d="M15 18l-6-6 6-6"/>
  </svg>
</div>

<div class="screen active loading" id="home">
  <div class="zone" id="h-hearts"></div>
  <div class="zone" id="h-tennis"></div>
  <div class="zone" id="h-delivery"></div>
</div>

<div class="screen" id="bracelet">
  <div id="carousel">
    <div id="carousel-track"></div>
  </div>
  <div class="carousel-dots" id="dots"></div>
  <div class="zone" id="b-buy"></div>
  <div class="zone" id="b-delivery"></div>
</div>

<div class="screen" id="delivery">
  <div id="delivery-text">
    <h3>–£—Å–ª–æ–≤–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏:</h3>
    <strong>–ñ–∏—Ç–µ–ª—è–º –ë–µ–ª–∞—Ä—É—Å–∏:</strong>
    <p>–ü–æ –ë–µ–ª–∞—Ä—É—Å–∏ –º—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –µ–≤—Ä–æ–ø–æ—á—Ç–æ–π.<br>
    –¶–µ–Ω–∞ –ø–µ—Ä–µ—Å—ã–ª–∫–∏ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 7 —Ä—É–±–ª–µ–π.<br>
    –°—Ä–æ–∫ –¥–æ—Å—Ç–∞–≤–∫–∏ 2-3 –¥–Ω—èüì¶</p>
    <strong>–ñ–∏—Ç–µ–ª—è–º –†–æ—Å—Å–∏–∏üá∑üá∫:</strong>
    <p>–ü–æ –†–æ—Å—Å–∏–∏ –º—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–¥–µ–∫–æ–º.<br>
    –¶–µ–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ –æ–±—ã—á–Ω–æ 500-600‚ÇΩ, (–¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ –Ω–∞–ø–∏—à–∏—Ç–µ –º–µ–Ω–µ–¥–∂–µ—Ä—É –∞–¥—Ä–µ—Å —Å–≤–æ–µ–≥–æ —Å–¥–µ–∫–∞).<br>
    –°—Ä–æ–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –æ–∫–æ–ª–æ 5 –¥–Ω–µ–πüöõ</p>
    <strong>–î–æ—Å—Ç–∞–≤–∫–∞ –≤ –¥—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω—ãüåé:</strong>
    <p>–ß—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å, –Ω–∞–ø–∏—à–∏—Ç–µ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞ –º–µ–Ω–µ–¥–∂–µ—Ä—É))</p>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded',()=>{
const tg=window.Telegram?.WebApp;
if(tg){tg.ready();tg.expand();}

const home=document.getElementById('home');
const bracelet=document.getElementById('bracelet');
const delivery=document.getElementById('delivery');
const backBtn=document.getElementById('backBtn');
const hHearts=document.getElementById('h-hearts');
const hTennis=document.getElementById('h-tennis');
const hDelivery=document.getElementById('h-delivery');
const bBuy=document.getElementById('b-buy');
const bDelivery=document.getElementById('b-delivery');

let last='home';
let currentScreen='home';

// –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ–Ω–∞ –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
const bgImg=new Image();
bgImg.onload=()=>{
  home.style.backgroundImage='url(background.jpg)';
  home.style.backgroundSize='cover';
  home.style.backgroundPosition='center';
  home.style.backgroundRepeat='no-repeat';
  home.classList.remove('loading');
  home.classList.add('loaded');
};
bgImg.src='background.jpg';

// Carousel
const carousel=document.getElementById('carousel');
const track=document.getElementById('carousel-track');
let currentSlide=0;
let maxSlides=4;
let startX=0;
let isDragging=false;

function updateCarousel(){
  track.style.transform=`translateX(-${currentSlide*100}%)`;
  const dots=document.querySelectorAll('.dot');
  dots.forEach((dot,i)=>{
    dot.classList.toggle('active',i===currentSlide);
  });
}

function loadCarousel(images,count){
  track.innerHTML='';
  maxSlides=count;
  images.forEach(src=>{
    const img=document.createElement('img');
    img.src=src;
    img.alt='Bracelet';
    img.loading='lazy';
    track.appendChild(img);
  });
  
  const dotsContainer=document.getElementById('dots');
  dotsContainer.innerHTML='';
  for(let i=0;i<count;i++){
    const dot=document.createElement('div');
    dot.className='dot';
    if(i===0)dot.classList.add('active');
    dot.onclick=()=>{
      currentSlide=i;
      updateCarousel();
    };
    dotsContainer.appendChild(dot);
  }
}

carousel.addEventListener('touchstart',e=>{
  startX=e.touches[0].clientX;
  isDragging=true;
},{ passive: false });

carousel.addEventListener('touchmove',e=>{
  if(!isDragging)return;
  e.preventDefault();
  e.stopPropagation();
},{ passive: false });

carousel.addEventListener('touchend',e=>{
  if(!isDragging)return;
  const endX=e.changedTouches[0].clientX;
  const diff=startX-endX;
  if(Math.abs(diff)>50){
    if(diff>0&&currentSlide<maxSlides-1){
      currentSlide++;
    }else if(diff<0&&currentSlide>0){
      currentSlide--;
    }
    updateCarousel();
  }
  isDragging=false;
},{ passive: false });

function show(screen,screenName){
  home.classList.remove('active');
  bracelet.classList.remove('active');
  delivery.classList.remove('active');
  screen.classList.add('active');
  currentScreen=screenName;
  
  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞–∑–∞–¥ –≤–µ–∑–¥–µ –∫—Ä–æ–º–µ home
  if(screenName==='home'){
    backBtn.classList.add('hidden');
  }else{
    backBtn.classList.remove('hidden');
  }
}

function goBack(){
  if(currentScreen==='delivery'){
    show(last==='bracelet'?bracelet:home, last);
  }else if(currentScreen==='bracelet'){
    show(home,'home');
  }
}

// –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥
backBtn.onclick=goBack;

hHearts.onclick=()=>{
  // –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ–Ω–∞
  const img=new Image();
  img.onload=()=>{
    bracelet.style.backgroundImage='url(hearts_1.png)';
    bracelet.style.backgroundSize='cover';
    bracelet.style.backgroundPosition='center';
    bracelet.style.backgroundRepeat='no-repeat';
  };
  img.src='hearts_1.png';
  
  loadCarousel(['hurts_1.jpg','hurts_2.jpg','hurts_3.jpg','hurts_4.jpg'],4);
  currentSlide=0;
  updateCarousel();
  last='bracelet';
  show(bracelet,'bracelet');
};

hTennis.onclick=()=>{
  // –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ–Ω–∞
  const img=new Image();
  img.onload=()=>{
    bracelet.style.backgroundImage='url(tennis_1.png)';
    bracelet.style.backgroundSize='cover';
    bracelet.style.backgroundPosition='center';
    bracelet.style.backgroundRepeat='no-repeat';
  };
  img.src='tennis_1.png';
  
  loadCarousel(['tennis_1.jpg','tennis_2.jpg','tennis_3.jpg'],3);
  currentSlide=0;
  updateCarousel();
  last='bracelet';
  show(bracelet,'bracelet');
};

hDelivery.onclick=()=>{
  last='home';
  show(delivery,'delivery');
};

bBuy.onclick=()=>{
  tg ? tg.openTelegramLink("https://t.me/manager_glitch")
     : window.open("https://t.me/manager_glitch","_blank");
};

bDelivery.onclick=()=>{
  last='bracelet';
  show(delivery,'delivery');
};
});
</script>
</body>
</html>
